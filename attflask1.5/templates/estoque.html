<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estoque do Restaurante</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    <div class="container">
        <h1>Controle de Estoque</h1>

        <form action="/adicionar" method="post" class="mb-4">
            <h2>Adicionar Produto</h2>
            <div class="form-group">
                <input type="text" name="nome" class="form-control" placeholder="Nome/Descrição do Produto" required>
            </div>
            <div class="form-group">
                <input type="number" step="0.01" name="qtd" class="form-control" placeholder="Quantidade (kg)" required>
            </div>
            <div class="form-group">
                <input type="number" step="0.01" name="preco" class="form-control" placeholder="Preço por kg" required>
            </div>
            <div class="form-group">
                <input type="date" name="data" class="form-control" placeholder="Data de Recebimento" required>
            </div>
            <div class="form-group">
                <input type="date" name="validade" class="form-control" placeholder="Validade" required>
            </div>
            <input type="submit" value="Inserir" class="btn btn-success">
        </form>
        
        <hr>
        
        <form action="/alterar" method="post" class="mb-4">
            <h2>Atualizar Produto</h2>
            <div class="form-group">
                <input type="text" name="nome" class="form-control" placeholder="Nome do Produto" required>
            </div>
            <div class="form-group">
                <input type="number" step="0.01" name="new_qtd" class="form-control" placeholder="Quantidade Atual (kg)" required>
            </div>
            <div class="form-group">
                <input type="number" step="0.01" name="new_price" class="form-control" placeholder="Preço Atual (por kg)" required>
            </div>
            <div class="form-group">
                <input type="date" name="new_date" class="form-control" placeholder="Data Atualizada">
            </div>
            <div class="form-group">
                <input type="date" name="new_vali" class="form-control" placeholder="Validade Atualizada">
            </div>
            <input type="submit" value="Alterar" class="btn btn-warning">
        </form>

        <hr>
        
        <form action="/apagar" method="post" class="mb-4">
            <h2>Remover Produto</h2>
            <div class="form-group">
                <input type="text" name="nome" class="form-control" placeholder="Nome do Produto" required>
            </div>
            <input type="submit" value="Apagar" class="btn btn-danger">
        </form>

        <hr>
        
        {% if est|length > 0 %}
            <h2>Produtos em Estoque:</h2>
            <ul class="list-group">
                {% for estoque in est %}
                    <li class="list-group-item">
                        Nome: {{ estoque.getNome() }}<br>
                        Quantidade: {{ estoque.getQtd() }} kg<br>
                        Preço/kg: R$ {{ estoque.getPreco() }}<br>
                        Data de Recebimento: {{ estoque.getData() }}<br>
                        Validade: {{ estoque.getValidade() }}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>Nenhum produto em estoque.</p>
        {% endif %}

    </div>
    <a href="{{ url_for('menu') }}" class="btn btn-primary btn-lg m-3">Menu do Restaurante</a>
</body>
</html>
